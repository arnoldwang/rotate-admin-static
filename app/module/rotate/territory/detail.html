<div style="margin: 0 auto;width: 800px">
    <!-- ko module: modules.breadcrumb --><!-- /ko -->
    <!-- ko module: modules.baseInfo --><!-- /ko -->
    <!-- ko module: modules.ancestorRules --><!-- /ko -->
    <!-- ko module: modules.ownerRules --><!-- /ko -->
    <!-- ko module: modules.childTerritories --><!-- /ko -->
    <!-- ko module: modules.ownerTeams --><!-- /ko -->
</div>
<script>
    var _ = require('lodash');

    model = [
        function() {
            this.reset();
            this.buildModules();
        },
        {
            reset: function() {
                this.setData({
                    id: null
                })
            },

            buildModules: function() {
                this.modules = {
                    breadcrumb: new (require('./breadcrumb'))(),
                    baseInfo: new (require('./base-info'))(),
                    ancestorRules: new (require('./ancestor-rules'))(),
                    ownerRules: new (require('./owner-rules'))(),
                    childTerritories: new (require('./child-territories'))(),
                    ownerTeams: new (require('./owner-teams'))()
                }
            },

            onStateChange: function(query) {
                _.forEach(this.modules, function(m) {
                    m.onStateChange(query);
                })


            }
        }
    ]
</script>